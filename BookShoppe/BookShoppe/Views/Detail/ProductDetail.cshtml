@model BookMarket.Models.Products
@using Microsoft.AspNetCore.Identity
@using BookMarket.Models;

@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

@{
    ViewData["Title"] = "ProductDetail";
    Layout = "~/Views/Layouts/_Layout.cshtml";
}
<style>
    div.stars {
        width: 200px;
        display: inline-block;
    }

    input.star {
        display: none;
    }

    label.star {
        float: right;
        padding: 10px;
        font-size: 20px;
        color: #444;
        transition: all .2s;
    }

    input.star:checked ~ label.star:before {
        content: '\f005';
        color: #FD4;
        transition: all .25s;
    }

    input.star-5:checked ~ label.star:before {
        color: #FE7;
        text-shadow: 0 0 20px #952;
    }

    input.star-1:checked ~ label.star:before {
        color: #F62;
    }

    label.star:hover {
        transform: rotate(-15deg) scale(1.3);
    }

    label.star:before {
        content: '\f006';
        font-family: FontAwesome;
    }
</style>

<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="stylesheet" href="~/Style2/bootstrap.min.css">
<link rel="stylesheet" href="~/Style2/normalize.css">
<link rel="stylesheet" href="~/Style2/font-awesome.min.css">
<link rel="stylesheet" href="~/Style2/icomoon.css">
<link rel="stylesheet" href="~/Style2/jquery-ui.css">
<link rel="stylesheet" href="~/Style2/owl.carousel.css">
<link rel="stylesheet" href="~/Style2/transitions.css">
<link rel="stylesheet" href="~/Style2/main.css">
<link rel="stylesheet" href="~/Style2/color.css">
<link rel="stylesheet" href="~/Style2/responsive.css">
<div class="em-wrapper-main">
    <div class="container container-main">
        <main id="tg-main" class="tg-main tg-haslayout">
            <!--************************************
                    News Grid Start
            *************************************-->
            <div class="tg-sectionspace tg-haslayout">
                <div class="container">
                    <div class="row">
                        <div id="tg-twocolumns" class="tg-twocolumns">
                            <div class="col-xs-12 col-sm-8 col-md-8 col-lg-9 pull-right">
                                <div id="tg-content" class="tg-content">
                                    <div class="tg-productdetail">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                <div class="tg-postbook">
                                                    <figure class="tg-featureimg"><img src="~/images/product/350x350/@Html.DisplayFor(model => model.ProductImg)" alt="image description"></figure>
                                                    <div class="tg-postbookcontent">
                                                        <span class="tg-bookprice">
                                                            <span>Giá bìa</span>
                                                            <del style="font-size:15px;float:right"> @Html.DisplayFor(model => model.GiaBia)đ</del>
                                                        </span>

                                                        <span class="tg-bookprice">
                                                            <span>Giá bán</span>
                                                            <ins style="font-size:18px; float:right; color:red">@Html.DisplayFor(model => model.GiaBan)đ</ins>
                                                        </span>
                                                        @{
                                                            var tietkiem = Model.GiaBia - Model.GiaBan;
                                                        }
                                                        <span class="tg-bookprice">
                                                            <span>Tiết kiệm</span>
                                                            <ins style="font-size:13px; float:right; color:#5EB950">@tietkiem đ</ins>
                                                        </span>


                                                        <ul class="tg-delevrystock">
                                                            <li><i class=""></i><span>Miễn phí giao hàng toàn quốc cho Đơn hàng từ 300.000đ</span></li>
                                                            <li><i class=""></i><span>Có dịch vụ bọc sách plastic cao cấp cho sách này</span></li>
                                                            <li><i class=""></i><span>Chất lượng sách: <em>@Html.DisplayFor(model => model.Quanity)</em></span></li>
                                                        </ul>

                                                        <a href="@Url.Action("AddToCart", "Detail", new { productid = Model.ProductId })" class="tg-btn tg-active tg-btn-lg">
                                                            <span>Thêm vào giỏ</span>
                                                        </a>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
                                                <div class="tg-productcontent">
                                                    <ul class="tg-bookscategories">
                                                        <li><a href="javascript:void(0);">@Html.DisplayFor(model => model.Category.CategoryName)</a></li>
                                                    </ul>
                                                    <div class="tg-themetagbox"><span class="tg-themetag">sale</span></div>
                                                    <div class="tg-booktitle">
                                                        <h3>@Html.DisplayFor(model => model.ProductName)</h3>
                                                    </div>
                                                    <span class="tg-bookwriter">Tác giả: <a href="javascript:void(0);">@Html.DisplayFor(model => model.Author.Name)</a></span>
                                                    <span class="tg-stars"><span style="width:0%"></span></span>


                                                    <div class="tg-description">
                                                        <p>@Html.DisplayFor(model => model.Decription)</p>
                                                    </div>
                                                    <div class="tg-sectionhead">
                                                        <h2>Thông tin chi tiết</h2>
                                                    </div>
                                                    <ul class="tg-productinfo">
                                                        <li><span>Nhà phát hành</span><span>@Html.DisplayFor(model => model.Nph.Name)</span></li>
                                                        <li><span>Khối lượng</span><span>@Html.DisplayFor(model => model.Weight)</span></li>
                                                        <li><span>Định dạng</span><span>@Html.DisplayFor(model => model.Format)</span></li>
                                                        <li><span>Ngày phát hành</span><span>@Html.DisplayFor(model => model.ReleaseDate)</span></li>
                                                        <li><span>Nhà xuất bản</span><span>@Html.DisplayFor(model => model.Nxb.Name)</span></li>
                                                        <li><span>Ngôn ngữ</span><span>@Html.DisplayFor(model => model.Language)</span></li>
                                                        <li><span>Kích thước</span><span>@Html.DisplayFor(model => model.Size)</span></li>
                                                        <li><span>Số trang</span><span>@Html.DisplayFor(model => model.PageNumber)</span></li>
                                                    </ul>
                                                    <div class="tg-alsoavailable">
                                                        <figure>
                                                            <img src="/style2/images/img-02.jpg" alt="image description">
                                                        </figure>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tg-productdescription">
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                    <div class="tg-sectionhead">

                                                    </div>
                                                    <ul class="tg-themetabs" role="tablist">
                                                        <li role="presentation" class="active"><a href="#description" data-toggle="tab">Giới thiệu sách</a></li>
                                                        <li role="presentation"><a href="#review" data-toggle="tab">Đánh giá sản phẩm</a></li>
                                                    </ul>
                                                    <div class="tg-tab-content tab-content">
                                                        <div role="tabpanel" class="tg-tab-pane tab-pane active" id="description">
                                                            <div class="tg-description">
                                                                <p>
                                                                    @Html.DisplayFor(model => model.Decription)
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div role="tabpanel" class="tg-tab-pane tab-pane" id="review">
                                                            <div class="tg-description">

                                                                <div class="imagebg"></div>
                                                                <div class="row ">
                                                                    <div class="col-md-6 col-md-offset-3 form-container">

                                                                        
                                                                        <form role="form" method="post" id="reused_form">
                                                                            <div class="stars">

                                                                                <input value="20" class="star star-5" id="star-5" type="radio" name="star" />
                                                                                <label class="star star-5" for="star-5"></label>
                                                                                <input value="40" class="star star-4" id="star-4" type="radio" name="star" />
                                                                                <label class="star star-4" for="star-4"></label>
                                                                                <input value="60" class="star star-3" id="star-3" type="radio" name="star" />
                                                                                <label class="star star-3" for="star-3"></label>
                                                                                <input value="80" class="star star-2" id="star-2" type="radio" name="star" />
                                                                                <label class="star star-2" for="star-2"></label>
                                                                                <input value="100" class="star star-1" id="star-1" type="radio" name="star" />
                                                                                <label class="star star-1" for="star-1"></label>
                                                                                
                                                                            </div>
                                                                                <div class="row">
                                                                                    <div class="col-sm-12 form-group">
                                                                                        <label for="comments">
                                                                                            Nội dung
                                                                                        </label>
                                                                                        <textarea class="form-control" type="textarea" name="comments" id="comments" placeholder="Nêu nhận xét của bạn về sản phẩm này" maxlength="6000" rows="7"></textarea>
                                                                                    </div>
                                                                                </div>
                                                                                @if (SignInManager.IsSignedIn(User))
                                                                                {
                                                                                    <div class="row">
                                                                                        <div class="col-sm-12 form-group">
                                                                                            <button style="background-color:#EC6A54" type="submit" class="btn btn-lg btn-warning btn-block">Gửi đánh giá</button>
                                                                                        </div>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="row">
                                                                                        <div class="col-sm-12 form-group">
                                                                                            <button id="login" asp-area="Identity" asp-page="/Account/Login" style="background-color:#EC6A54" type="submit" class="btn btn-lg btn-warning btn-block">Gửi đánh giá</button>
                                                                                        </div>
                                                                                    </div>
                                                                                }
                                                                            </form>
                                                                        <div id="success_message" style="width:100%; height:100%; display:none; ">
                                                                            <h3>Posted your feedback successfully!</h3>
                                                                        </div>
                                                                        <div id="error_message"
                                                                             style="width:100%; height:100%; display:none; ">
                                                                            <h3>Error</h3>
                                                                            Sorry there was an error sending your form.

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                            <!--************************************
                                    relate book
                            *************************************-->
                            <!--************************************
                                    relate book
                            *************************************-->
                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-3 pull-left">
                                <aside id="tg-sidebar" class="tg-sidebar">

                                    <div class="tg-widget tg-widgettrending">
                                        <div class="tg-widgettitle">
                                            <h3>Sách hay mách bạn</h3>
                                        </div>
                                        <div class="tg-widgetcontent">

                                            <ul>
                                                @{

                                                    <li>
                                                        <article class="tg-post">
                                                            <figure><a href=""><img src="~/images/product/110x110/30_chu_de_tu_vung.jpg" alt="image description"></a></figure>
                                                            <div class="tg-postcontent">
                                                                <div class="tg-posttitle">
                                                                    <h3><a href="">30 chủ đề từu vựng</a></h3>
                                                                </div>
                                                                <span class="tg-bookwriter">Thể loại:<a href="">ngoại ngữ</a></span>
                                                            </div>
                                                        </article>
                                                    </li>
                                                    <li>
                                                        <article class="tg-post">
                                                            <figure><a href=""><img src="~/images/product/110x110/buoc_duong_cung.jpg" alt="image description"></a></figure>
                                                            <div class="tg-postcontent">
                                                                <div class="tg-posttitle">
                                                                    <h3><a href="">Bước đường cùng</a></h3>
                                                                </div>
                                                                <span class="tg-bookwriter">Thể loại: <a href="">Văn học</a></span>
                                                            </div>
                                                        </article>
                                                    </li>
                                                    <li>
                                                        <article class="tg-post">
                                                            <figure><a href=""><img src="~/images/product/110x110/cai_tet_cua_meo_con.jpg" alt="image description"></a></figure>
                                                            <div class="tg-postcontent">
                                                                <div class="tg-posttitle">
                                                                    <h3><a href="">Cái tết của mèo con</a></h3>
                                                                </div>
                                                                <span class="tg-bookwriter">Thể loại: <a href="">Văn học</a></span>
                                                            </div>
                                                        </article>
                                                    </li>
                                                    <li>
                                                        <article class="tg-post">
                                                            <figure><a href=""><img src="~/images/product/110x110/chuyen-co-tich-ve-cac-nang-cong-chua-NN.jpg" alt="image description"></a></figure>
                                                            <div class="tg-postcontent">
                                                                <div class="tg-posttitle">
                                                                    <h3><a href="">Chuyện cổ tích về các nàng công chúa</a></h3>
                                                                </div>
                                                                <span class="tg-bookwriter">Thể loại <a href="">Thiếu nhi</a></span>
                                                            </div>
                                                        </article>
                                                    </li>
                                                }
                                            </ul>
                                        </div>
                                    </div>
                                </aside>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--************************************
                    News Grid End
            *************************************-->


        </main>
    </div>
</div>